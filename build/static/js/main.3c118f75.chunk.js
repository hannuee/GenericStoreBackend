(this.webpackJsonpgenericstore=this.webpackJsonpgenericstore||[]).push([[0],{172:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(15),c=a.n(i),s=a(8),o=a(12),u=a(51),d=a(21),l=a(18),j=a(6),p=a.n(j),b=a(9),h={text:"",severity:"",timeoutID:null},m=function(e,t,a){return function(){var r=Object(b.a)(p.a.mark((function r(n){var i;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=setTimeout((function(){n({type:"CLEAR"})}),1e3*a),n({type:"CHANGE",data:{text:e,severity:t,timeoutID:i}});case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE":return null!==e.timeoutID&&clearTimeout(e.timeoutID),t.data;case"CLEAR":return{text:"",severity:"",timeoutID:null};default:return e}},O=a(217),x=a(224),v=a(93),g=a.n(v),y=a(223),k=a(173),w=a(221),D=a(222),C=a(112),N=a.n(C),I=a(113),S=a.n(I),E=a(111),T=a.n(E),_=a(74),z=a.n(_),A=a(110),L=a.n(A),R=a(114),P=a.n(R),U=a(1),F={textDecoration:"none",color:"#6f6f6f"},M=Object(O.a)((function(e){return{listItem:{paddingTop:"3px",paddingBottom:"3px"},toolbar:e.mixins.toolbar}})),H=function(){var e=M(),t=Object(s.c)((function(e){return e.categories})),a=Object(s.c)((function(e){return e.customers.loggedIn})),r=Object(s.b)(),n=Object(d.g)(),i=function(){window.localStorage.removeItem("genericStoreUser"),r({type:"ADD_LOGGED_IN",data:null}),n.push("/"),r(m("Kirjauduttu ulos","success",5))};return Object(U.jsxs)("div",{children:[Object(U.jsx)("div",{className:e.toolbar}),Object(U.jsxs)(y.a,{children:[t.filter((function(e){return null===e.category_id})).map((function(t){return Object(U.jsx)(l.b,{to:"/kategoriat/".concat(t.id),style:F,children:Object(U.jsxs)(k.a,{button:!0,className:e.listItem,children:[Object(U.jsxs)(w.a,{children:[" ",Object(U.jsx)(P.a,{})," "]}),Object(U.jsx)(D.a,{primary:t.name})]})},t.id)})),function(){if(null!=a&&void 0!=a.admin)return Object(U.jsx)(l.b,{to:"/uusikategoria",style:F,children:Object(U.jsxs)(k.a,{button:!0,className:e.listItem,children:[Object(U.jsxs)(w.a,{children:[" ",Object(U.jsx)(L.a,{})," "]}),Object(U.jsx)(D.a,{primary:"Lis\xe4\xe4 p\xe4\xe4kategoria"})]})})}()]}),Object(U.jsx)(x.a,{}),Object(U.jsxs)(y.a,{children:[function(){if(null!=a&&void 0!=a.name)return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(l.b,{to:"/omattilaukset",style:F,children:Object(U.jsxs)(k.a,{button:!0,className:e.listItem,children:[Object(U.jsxs)(w.a,{children:[" ",Object(U.jsx)(g.a,{})," "]}),Object(U.jsx)(D.a,{primary:"Omat tilaukset"})]})}),Object(U.jsx)(l.b,{to:"/ostoskori",style:F,children:Object(U.jsxs)(k.a,{button:!0,className:e.listItem,children:[Object(U.jsxs)(w.a,{children:[" ",Object(U.jsx)(z.a,{})," "]}),Object(U.jsx)(D.a,{primary:"Ostoskori"})]})})]})}(),function(){if(null!=a&&void 0!=a.admin)return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(l.b,{to:"/tilaukset",style:F,children:Object(U.jsxs)(k.a,{button:!0,className:e.listItem,children:[Object(U.jsxs)(w.a,{children:[" ",Object(U.jsx)(g.a,{})," "]}),Object(U.jsx)(D.a,{primary:"Tilaukset"})]})}),Object(U.jsx)(l.b,{to:"/asiakkaat",style:F,children:Object(U.jsxs)(k.a,{button:!0,className:e.listItem,children:[Object(U.jsxs)(w.a,{children:[" ",Object(U.jsx)(T.a,{})," "]}),Object(U.jsx)(D.a,{primary:"Asiakkaat"})]})})]})}(),null==a?Object(U.jsx)(l.b,{to:"/kirjautuminen",style:F,children:Object(U.jsxs)(k.a,{button:!0,className:e.listItem,children:[Object(U.jsxs)(w.a,{children:[" ",Object(U.jsx)(N.a,{})," "]}),Object(U.jsx)(D.a,{primary:"Kirjaudu"})]})}):Object(U.jsxs)(k.a,{button:!0,className:e.listItem,onClick:i,style:F,children:[Object(U.jsxs)(w.a,{children:[" ",Object(U.jsx)(S.a,{})," "]}),Object(U.jsx)(D.a,{primary:"Kirjaudu ulos"})]})]})]})},K=a(121),q=a(23),W=function(e){var t=B(e);return V(t)},G=function(e,t){var a=B(e);return Q(a,t)},B=function(e){var t,a=new Map,r=Object(q.a)(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(a.has(n.category_id)){var i=a.get(n.category_id);i.push(n),a.set(n.category_id,i)}else a.set(n.category_id,[n])}}catch(s){r.e(s)}finally{r.f()}var c={nodeCategory:null};return Y(c,a),c},Y=function e(t,a){var r;if(void 0!==(r=null===t.nodeCategory?a.get(null):a.get(t.nodeCategory.id))){var n,i=Object(q.a)(r);try{for(i.s();!(n=i.n()).done;){var c=n.value,s={nodeCategory:c};t["child"+c.id]=s,e(s,a)}}catch(o){i.e(o)}finally{i.f()}}},V=function(e){var t=[];return J(e,"",t),t},J=function e(t,a,r){var n=a;for(var i in null!==t.nodeCategory&&(""!==a&&(n+=" - "),n+=t.nodeCategory.name,r.push({id:t.nodeCategory.id,path:n})),t)"nodeCategory"!==i&&e(t[i],n,r)},Q=function(e,t){return X(e,t,[])},X=function e(t,a,r){var n;if(null!==t.nodeCategory){if(n=[].concat(Object(K.a)(r),[{id:t.nodeCategory.id,name:t.nodeCategory.name}]),t.nodeCategory.id===a)return n}else n=r;for(var i in t)if("nodeCategory"!==i){var c=e(t[i],a,n);if(void 0!==c)return c}},Z=a(252),$=a(115),ee=a.n($),te=Object(O.a)((function(e){return{crumbs:{marginRight:e.spacing(3)},links:{textDecoration:"none",color:"#6f6f6f"}}})),ae=function(e){var t=e.categoryId,a=te(),r=Object(s.c)((function(e){return e.categories}));return Object(U.jsx)(Z.a,{separator:Object(U.jsx)(ee.a,{fontSize:"small"}),"aria-label":"breadcrumb",className:a.crumbs,children:G(r,t).map((function(e){return Object(U.jsx)(l.b,{to:"/kategoriat/".concat(e.id),className:a.links,children:e.name},e.id)}))})},re=a(17),ne=a.n(re),ie="/api/categories",ce={getAll:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get(ie);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),post:function(){var e=Object(b.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.post(ie,t,{headers:{authorization:"bearer "+a}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleteCategory:function(){var e=Object(b.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.delete(ie+"/"+t,{headers:{authorization:"bearer "+a}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),putNewCategory:function(){var e=Object(b.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.put(ie+"/newCategory",t,{headers:{authorization:"bearer "+a}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},se="/api/products",oe=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("/api/products/available");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue={getAll:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get(se,{headers:{authorization:"bearer "+t}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAvailable:oe,post:function(){var e=Object(b.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.post(se,t,{headers:{authorization:"bearer "+a}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),putAvailable:function(){var e=Object(b.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.put("/api/products/available",t,{headers:{authorization:"bearer "+a}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),putNewCategory:function(){var e=Object(b.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.put("/api/products/newCategory",t,{headers:{authorization:"bearer "+a}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),putPricesAndSizes:function(){var e=Object(b.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.put("/api/products/pricesAndSizes",t,{headers:{authorization:"bearer "+a}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},de=a(116),le=a.n(de),je=a(230),pe=a(225),be=a(246),he=a(256),me=a(229),fe=Object(O.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},horizontalLayoutLeft:{display:"flex",flexDirection:"row",alignItems:"center",width:"50%"},marginPlease:{margin:e.spacing(1)},select:{margin:e.spacing(1),minWidth:250}}})),Oe=function(e){var t=e.categoryId,a=e.productId,r=fe(),i=Object(s.c)((function(e){return e.categories})),c=Object(s.c)((function(e){return e.customers.loggedIn})),u=Object(s.b)(),d=n.a.useState(""),l=Object(o.a)(d,2),j=l[0],h=l[1],f=function(e){h(e.target.value)},O=function(){var e=Object(b.a)(p.a.mark((function e(){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0===t){e.next=9;break}return e.next=4,ce.putNewCategory({id:t,parentCategoryId:j},c.token);case 4:r=e.sent,u({type:"REPLACE_CATEGORY",data:r}),u(m("Kategoria muutettu","success",5)),e.next=15;break;case 9:if(void 0===a){e.next=15;break}return e.next=12,ue.putNewCategory({id:a,parentCategoryId:j},c.token);case 12:n=e.sent,u({type:"REPLACE_PRODUCT",data:n}),u(m("Kategoria muutettu","success",5));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),u(m("Kategorian muutto ep\xe4onnistui","error",5));case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(pe.a,{variant:"outlined",className:r.formControl,children:[Object(U.jsx)(he.a,{id:"size-select",className:r.marginPlease,children:"Kategorian uusi is\xe4nt\xe4"}),Object(U.jsx)(be.a,{labelId:"size-select-label-id",id:"size-select-id",value:j,onChange:f,label:"Tuotteen uusi kategoria",className:r.select,children:W(i).map((function(e){return Object(U.jsx)(me.a,{value:e.id,children:e.path},e.id)}))})]}),Object(U.jsx)(je.a,{variant:"contained",color:"primary",className:r.marginPlease,onClick:O,startIcon:Object(U.jsx)(le.a,{}),children:"tallenna"})]})},xe=a(253),ve=a(123),ge=Object(O.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}})),ye=function(e){var t=e.parentCategoryIdForNewCategory,a=e.handleCloseNewCategoryForm,r=ge(),i=Object(s.c)((function(e){return e.customers.loggedIn.token})),c=Object(s.b)(),u=n.a.useState(""),d=Object(o.a)(u,2),l=d[0],j=d[1],h=n.a.useState(""),f=Object(o.a)(h,2),O=f[0],x=f[1],v=n.a.useState(!1),g=Object(o.a)(v,2),y=g[0],k=g[1],w=function(){var e=Object(b.a)(p.a.mark((function e(){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,ce.post({parentCategoryId:t,name:l,description:O},i);case 4:r=e.sent,void 0!==a&&a(),j(""),x(""),k(!1),c({type:"ADD_NEW_CATEGORY",data:r}),c(m("Kategoria lis\xe4tty","success",5)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),k(!1),c(m("Kategorian lis\xe4ys ep\xe4onnistui","error",5));case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return Object(U.jsx)(ve.a,{children:Object(U.jsx)("form",{className:r.root,noValidate:!0,autoComplete:"off",children:Object(U.jsxs)("div",{children:[Object(U.jsx)(xe.a,{required:!0,id:"standard-required",label:"Kategorian nimi",value:l,onChange:function(e){j(e.target.value)}}),Object(U.jsx)(xe.a,{id:"standard-required",label:"Kuvaus",value:O,onChange:function(e){x(e.target.value)}}),Object(U.jsx)(je.a,{size:"small",disabled:y,onClick:w,children:"Lis\xe4\xe4 kategoria"}),function(){if(void 0!==a)return Object(U.jsx)(je.a,{size:"small",color:"primary",disabled:y,onClick:a,children:"KIINNI"})}()]})})})},ke=new Intl.NumberFormat("fi-FI",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}),we=new Intl.NumberFormat("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}),De=function(e){return ke.format(e/100)},Ce=function(e){return Number(Number(e.replace(",",".").replace(/\s+/g,"")).toFixed(2))},Ne=a(257),Ie=a(87),Se=Object(O.a)((function(e){return{formControl:{margin:e.spacing(1),marginLeft:"0px",minWidth:120},formControlQuantity:{margin:e.spacing(1),width:85},selectEmpty:{marginTop:e.spacing(2)},horizontalUpperLayout:{width:"100%"},marginPlease:{margin:e.spacing(1)},horizontalLayoutLeft:{display:"flex",flexDirection:"row",alignItems:"center",float:"left"},horizontalLayoutRight:{display:"flex",flexDirection:"row-reverse",alignItems:"center",float:"right"},typographyStylePrice:{color:"red",margin:"10px",fontSize:"20px",fontWeight:450}}})),Ee=function(e){var t=e.product,a=Se(),r=Object(s.c)((function(e){return e.customers.loggedIn})),i=Object(s.b)(),c=n.a.useState(t.pricesandsizes[0]),u=Object(o.a)(c,2),d=u[0],l=u[1],j=n.a.useState(1),p=Object(o.a)(j,2),b=p[0],h=p[1],f=function(e){var t=Math.round(Number(e.target.value));h(t>=1?t:1)},O=function(){var e=(new Date).getTime(),a=t.name,r=t.id;i({type:"ADD_TO_CART",data:{product_time:e,product_name:a,product_id:r,priceAndSize:d,quantity:b}}),i(m("Lis\xe4tty ostoskoriin","success",5))};return Object(U.jsxs)("div",{className:a.horizontalUpperLayout,children:[Object(U.jsxs)("div",{className:a.horizontalLayoutLeft,children:[Object(U.jsxs)(pe.a,{variant:"outlined",className:a.formControl,children:[Object(U.jsx)(he.a,{id:"size-select",children:"Koko"}),Object(U.jsx)(be.a,{labelId:"size-select-label-id",id:"size-select-id",value:d,onChange:function(e){l(e.target.value)},label:"Koko",children:t.pricesandsizes.map((function(e){return Object(U.jsxs)(me.a,{value:e,children:[e.size," - ",De(e.price)]},e.size)}))})]}),Object(U.jsxs)(pe.a,{variant:"outlined",className:a.formControlQuantity,children:[Object(U.jsx)(he.a,{htmlFor:"component-outlined",children:"Lukum\xe4\xe4r\xe4"}),Object(U.jsx)(Ne.a,{id:"lukumaara",value:b,onChange:f,label:"Lukum\xe4\xe4r\xe4",type:"number"})]})]}),Object(U.jsxs)("div",{className:a.horizontalLayoutRight,children:[null!=r&&void 0!=r.name?Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(je.a,{variant:"outlined",color:"primary",size:"medium",className:a.marginPlease,onClick:O,startIcon:Object(U.jsx)(z.a,{}),children:"ostoskoriin"})}):Object(U.jsx)(je.a,{variant:"outlined",color:"primary",size:"medium",className:a.marginPlease,disabled:!0,startIcon:Object(U.jsx)(z.a,{}),children:"ostoskoriin"}),Object(U.jsx)(Ie.a,{variant:"body2",component:"p",className:a.typographyStylePrice,children:De(d.price*b)})]})]})},Te=a(258),_e=function(e){var t=e.product,a=Object(s.c)((function(e){return e.customers.loggedIn})),r=Object(s.b)(),i=n.a.useState(t.available),c=Object(o.a)(i,2),u=c[0],d=c[1],l=function(){var e=Object(b.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.putAvailable({id:t.id,available:!u},a.token);case 3:n=e.sent,d(!u),r({type:"REPLACE_PRODUCT",data:n}),r(m("Tuotteen saatavuus muutettu","success",5)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r(m("Tuotteen saatavuuden muuttaminen ep\xe4onnistui","error",5));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Ie.a,{variant:"body2",color:"textSecondary",component:"p",children:"Piilotettu asiakkailta"}),Object(U.jsx)(Te.a,{checked:u,onChange:l,name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}}),Object(U.jsx)(Ie.a,{variant:"body2",color:"textSecondary",component:"p",children:"Tuote n\xe4kyvill\xe4"})]})},ze=a(174),Ae=a(117),Le=a.n(Ae),Re=Object(O.a)((function(e){return{horizontalLayout:{display:"flex",flexDirection:"row"},verticalLayout:{display:"flex",flexDirection:"column"},button:{marginTop:e.spacing(2)}}})),Pe=function(e){var t,a,r=e.product,i=e.pricesAndSizesParent,c=e.setPricesAndSizesParent,u=Re(),d=Object(s.c)((function(e){return e.customers.loggedIn})),l=Object(s.b)(),j=[];if(null!=r){var h,f=Object(q.a)(r.pricesandsizes);try{for(f.s();!(h=f.n()).done;){var O=h.value;j.push({price:(t=O.price,we.format(t/100)),size:O.size})}}catch(N){f.e(N)}finally{f.f()}}a=null==r?i:j;var x,v,g=n.a.useState(a),y=Object(o.a)(g,2),k=y[0],w=y[1];null==r?(x=i,v=c):(x=k,v=w);var D=function(e,t){return function(a){var r=[];x.forEach((function(n,i){i===e&&"size"===t?r.push({price:n.price,size:a.target.value}):i===e&&"price"===t?r.push({price:a.target.value,size:n.size}):r.push(n)})),v(r)}},C=function(){var e=Object(b.a)(p.a.mark((function e(){var t,a,n,i,c,s,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=Object(q.a)(x),e.prev=2,a.s();case 4:if((n=a.n()).done){e.next=19;break}if(i=n.value,c=Ce(i.price),!isNaN(c)){e.next=12;break}return l(m("Virheellinen hintatieto","error",5)),e.abrupt("return");case 12:if(!(c<0)){e.next=15;break}return l(m("Hinta ei voi olla negatiivinen","error",5)),e.abrupt("return");case 15:s=Math.trunc(100*c),t.push({price:s,size:i.size});case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),a.e(e.t0);case 24:return e.prev=24,a.f(),e.finish(24);case 27:return e.prev=27,e.next=30,ue.putPricesAndSizes({id:r.id,pricesAndSizes:t},d.token);case 30:o=e.sent,l({type:"REPLACE_PRODUCT",data:o}),l(m("Tuotteen hintatiedot muutettu","success",5)),e.next=38;break;case 35:e.prev=35,e.t1=e.catch(27),l(m("Tuotteen hintatietojen muunttaminen ep\xe4onnistui","error",5));case 38:case"end":return e.stop()}}),e,null,[[2,21,24,27],[27,35]])})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[x.map((function(e,t){return Object(U.jsxs)("div",{className:u.horizontalLayout,children:[Object(U.jsx)(xe.a,{id:"standard-required",label:"Koko",value:e.size,onChange:D(t,"size")}),Object(U.jsx)(xe.a,{id:"standard-number",label:"Hinta \u20ac",InputLabelProps:{shrink:!0},value:e.price,onChange:D(t,"price")}),Object(U.jsx)(ze.a,{onClick:(a=t,function(){var e=[];x.forEach((function(t,r){r!=a&&e.push(t)})),v(e)}),children:Object(U.jsx)(Le.a,{})})]},t);var a})),Object(U.jsx)("br",{}),Object(U.jsxs)("div",{className:u.horizontalLayout,children:[function(){if(void 0!=r)return Object(U.jsx)(je.a,{variant:"contained",color:"primary",onClick:C,className:u.button,children:" Tallenna hintatiedot "})}(),Object(U.jsx)(je.a,{size:"small",onClick:function(){v(x.concat({price:0,size:""}))},children:" Uusi hintatieto"})]})]})},Ue=a(234),Fe=a(232),Me=a(233),He=a(231),Ke=a(82),qe=a.n(Ke),We=a(4),Ge={alignItems:"center",marginLeft:"30px"},Be=Object(O.a)((function(e){return{root:{display:"flex",flexDirection:"column"},horizontalLayout:{display:"flex",flexDirection:"row"},verticalLayout:{display:"flex",flexDirection:"column",width:"100%"},floatLeft:{float:"left"},floatRight:{float:"right"},content:{flex:"1 0 auto",padding:"7px",paddingLeft:"13px"},nameLine:{display:"flex",flexDirection:"row",marginBottom:"3px"},button:{marginTop:e.spacing(2)},cover:{width:151,minWidth:151},marginBottom:{marginBottom:"3px"},expand:{transform:"rotate(0deg)",marginLeft:"auto",padding:"3px",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(90deg)",padding:"3px"}}})),Ye=function(e){var t=e.product,a=e.parentCategoryIdForNewProduct,r=e.handleCloseNewProductForm,i=Be(),c=Object(s.c)((function(e){return e.customers.loggedIn})),d=Object(s.b)(),l=n.a.useState(""),j=Object(o.a)(l,2),h=j[0],f=j[1],O=n.a.useState(""),v=Object(o.a)(O,2),g=v[0],y=v[1],k=n.a.useState([{price:0,size:""}]),w=Object(o.a)(k,2),D=w[0],C=w[1],N=n.a.useState(!1),I=Object(o.a)(N,2),S=I[0],E=I[1],T=n.a.useState(!1),_=Object(o.a)(T,2),z=_[0],A=_[1],L=function(e){return f(e.target.value)},R=function(e){return y(e.target.value)},P=function(){return A(!z)},F=function(){var e=Object(b.a)(p.a.mark((function e(){var t,n,i,s,o,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(!0),t=[],n=Object(q.a)(D),e.prev=3,n.s();case 5:if((i=n.n()).done){e.next=20;break}if(s=i.value,o=Number(Number(s.price.replace(",",".").replace(/\s+/g,"")).toFixed(2)),!isNaN(o)){e.next=13;break}return d(m("Virheellinen hintatieto","error",5)),e.abrupt("return");case 13:if(!(o<0)){e.next=16;break}return d(m("Hinta ei voi olla negatiivinen","error",5)),e.abrupt("return");case 16:o=Math.trunc(100*o),t.push({price:o,size:s.size});case 18:e.next=5;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(3),n.e(e.t0);case 25:return e.prev=25,n.f(),e.finish(25);case 28:return e.prev=28,e.next=31,ue.post({parentCategoryId:a,name:h,description:g,pricesAndSizes:t,available:!0},c.token);case 31:u=e.sent,r(),f(""),y(""),C([{price:0,size:""}]),d({type:"ADD_NEW_PRODUCT",data:u}),d(m("Tuote lis\xe4tty","success",5)),e.next=43;break;case 40:e.prev=40,e.t1=e.catch(28),d(m("Virhe tuotetta lis\xe4tt\xe4ess\xe4","error",5));case 43:E(!1);case 44:case"end":return e.stop()}}),e,null,[[3,22,25,28],[28,40]])})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(Ue.a,{className:i.root,children:[Object(U.jsxs)("div",{className:i.horizontalLayout,children:[void 0!=t&&null!=t.picture?Object(U.jsx)(Me.a,{className:i.cover,image:"/"+t.picture.URL,title:t.picture.desc}):Object(U.jsx)(Me.a,{className:i.cover,image:"/paleBlue.jpg",title:"Pale blue picture"}),Object(U.jsx)("div",{className:i.verticalLayout,children:Object(U.jsxs)(Fe.a,{className:i.content,children:[Object(U.jsxs)("div",{className:i.nameLine,children:[void 0!=t?Object(U.jsx)(Ie.a,{variant:"h6",component:"h2",children:t.name}):Object(U.jsx)(xe.a,{required:!0,id:"standard-required",label:"Tuotteen nimi",value:h,onChange:L}),function(){if(void 0!=t&&!t.available)return Object(U.jsx)(Ie.a,{variant:"body2",color:"textSecondary",component:"p",children:"\xa0\xa0\xa0 Tuote on piilotettu asiakkailta"})}(),function(){if(void 0!=t&&null!=c&&void 0!=c.admin)return Object(U.jsx)(ze.a,{className:Object(We.a)(i.expand,Object(u.a)({},i.expandOpen,z)),onClick:P,"aria-expanded":z,"aria-label":"show more",children:Object(U.jsx)(qe.a,{})})}()]}),void 0!=t?Object(U.jsx)(Ie.a,{variant:"body2",color:"textSecondary",component:"p",className:i.marginBottom,children:t.description}):Object(U.jsx)(xe.a,{multiline:!0,rows:2,id:"standard-required",label:"Kuvaus",value:g,onChange:R}),void 0!=t?Object(U.jsx)(Ee,{product:t}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Pe,{pricesAndSizesParent:D,setPricesAndSizesParent:C}),Object(U.jsx)(je.a,{size:"small",disabled:S,onClick:F,children:"Lis\xe4\xe4 tuote"}),Object(U.jsx)(je.a,{size:"small",color:"primary",disabled:S,onClick:r,children:"KIINNI"})]})]})})]}),function(){if(void 0!=t)return Object(U.jsxs)(He.a,{in:z,timeout:"auto",unmountOnExit:!0,children:[Object(U.jsx)(x.a,{}),Object(U.jsx)(Fe.a,{children:Object(U.jsxs)("div",{className:i.horizontalLayout,children:[Object(U.jsxs)("div",{className:i.verticalLayout,children:[Object(U.jsx)(Pe,{product:t}),"            "]}),Object(U.jsx)(x.a,{orientation:"vertical",flexItem:!0}),Object(U.jsxs)("div",{className:i.verticalLayout,children:[Object(U.jsx)("div",{className:i.horizontalLayout,style:Ge,children:Object(U.jsx)(_e,{product:t})}),Object(U.jsx)("div",{className:i.horizontalLayout,style:Ge,children:Object(U.jsx)(Oe,{productId:t.id})})]})]})})]})}()]})},Ve=a(118),Je=a.n(Ve),Qe=Object(O.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},horizontalUpperLayout:{display:"flex",flexDirection:"row",alignItems:"center"},horizontalLayoutLeft:{display:"flex",flexDirection:"row",alignItems:"center",width:"50%"},horizontalLayoutRight:{display:"flex",flexDirection:"row-reverse",alignItems:"center",width:"50%"},marginPlease:{margin:e.spacing(1)},marginRight:{margin:e.spacing(1),marginRight:"20px"},select:{margin:e.spacing(1),minWidth:250}}})),Xe=Object(O.a)((function(e){return{expand:{float:"left",transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{float:"left",transform:"rotate(90deg)"}}})),Ze=function(e){var t=Qe(),a=Xe(),r=Object(s.c)((function(t){return t.categories.find((function(t){return t.id===e.id}))})),i=Object(s.c)((function(t){return t.categories.filter((function(t){return t.category_id===e.id}))})),c=Object(s.c)((function(t){return t.products.filter((function(t){return t.category_id===e.id}))})),l=Object(s.c)((function(e){return e.customers.loggedIn})),j=Object(s.b)(),h=Object(d.g)(),f=n.a.useState(!1),O=Object(o.a)(f,2),v=O[0],g=O[1],y=n.a.useState(!1),k=Object(o.a)(y,2),w=k[0],D=k[1],C=n.a.useState(!1),N=Object(o.a)(C,2),I=N[0],S=N[1],E=function(){g(!0)},T=function(){D(!0)},_=function(){g(!1)},z=function(){D(!1)},A=function(){S(!I)},L=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.deleteCategory(r.id,l.token);case 3:h.push("/"),j({type:"DELETE_CATEGORY",data:r.id}),j(m("Kategoria poistettu","success",5)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),j(m("Kategorian poisto ep\xe4onnistui","error",5));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return void 0!==r?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:t.horizontalUpperLayout,children:[Object(U.jsxs)("div",{className:t.horizontalLayoutLeft,children:[Object(U.jsx)(ae,{categoryId:r.id}),"| \xa0\xa0\xa0 ",r.description,Object(U.jsx)("div",{children:function(){if(null!=l&&void 0!=l.admin)return Object(U.jsx)(ze.a,{className:Object(We.a)(a.expand,Object(u.a)({},a.expandOpen,I)),onClick:A,"aria-expanded":I,"aria-label":"show more",children:Object(U.jsx)(qe.a,{})})}()})]}),Object(U.jsx)("div",{className:t.horizontalLayoutRight,children:function(){if(null!=l&&void 0!=l.admin)return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(je.a,{variant:"contained",color:"primary",onClick:E,className:t.marginPlease,children:"uusi tuote"}),Object(U.jsx)(je.a,{variant:"contained",color:"primary",onClick:T,className:t.marginPlease,children:"uusi alakategoria"})]})}()})]}),Object(U.jsx)("div",{children:Object(U.jsx)(He.a,{in:v,timeout:"auto",unmountOnExit:!0,children:Object(U.jsx)(Ye,{parentCategoryIdForNewProduct:r.id,handleCloseNewProductForm:_})})}),Object(U.jsx)("div",{children:Object(U.jsx)(He.a,{in:w,timeout:"auto",unmountOnExit:!0,children:Object(U.jsx)(ye,{parentCategoryIdForNewCategory:r.id,handleCloseNewCategoryForm:z})})}),Object(U.jsx)("div",{children:Object(U.jsx)(He.a,{in:I,timeout:"auto",unmountOnExit:!0,children:Object(U.jsxs)(ve.a,{className:t.horizontalUpperLayout,children:[Object(U.jsx)("div",{className:t.horizontalLayoutLeft,children:Object(U.jsx)(Oe,{categoryId:r.id})}),Object(U.jsx)(x.a,{orientation:"vertical",flexItem:!0}),Object(U.jsx)("div",{className:t.horizontalLayoutRight,children:0===i.length&&0===c.length?Object(U.jsx)(je.a,{variant:"contained",color:"secondary",startIcon:Object(U.jsx)(Je.a,{}),className:t.marginRight,onClick:L,children:"Poista kategoria"}):Object(U.jsx)(Ie.a,{variant:"body2",color:"textSecondary",component:"p",className:t.marginRight,children:"Kategorian on oltava tyhj\xe4 jotta sen voi poistaa"})})]})})})]}):Object(U.jsx)(U.Fragment,{children:" "})},$e=a(254),et=Object(O.a)((function(e){return{chipStyle:{margin:e.spacing(.5)}}})),tt=function(e){var t=et(),a=Object(s.c)((function(t){return t.categories.filter((function(t){return t.category_id===e.id}))})),r=Object(s.c)((function(t){return t.products.filter((function(t){return t.category_id===e.id}))}));return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Ze,{id:e.id}),Object(U.jsx)("br",{}),a.map((function(e){return Object(U.jsx)(l.b,{to:"/kategoriat/".concat(e.id),children:Object(U.jsx)($e.a,{label:e.name,clickable:!0,color:"primary",className:t.chipStyle})},e.id)})),Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),r.map((function(e){return Object(U.jsxs)("div",{children:[Object(U.jsx)(Ye,{product:e}),Object(U.jsx)("br",{})]},e.id)}))]})},at=a(26),rt="/api/orders",nt=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("/api/orders/ofCustomerWithDetails",{headers:{authorization:"bearer "+t}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.post(rt,t,{headers:{authorization:"bearer "+a}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ct=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("/api/orders/details/"+t,{headers:{authorization:"bearer "+a}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),st=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("/api/orders/undispatchedWithDetails",{headers:{authorization:"bearer "+t}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("/api/orders/dispatched",{headers:{authorization:"bearer "+t}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut={getOfCustomerWithDetails:nt,post:it,getUndispatchedWithDetails:st,putInternalNotes:function(){var e=Object(b.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.put("/api/orders/internalNotes",t,{headers:{authorization:"bearer "+a}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),putOrderDispatched:function(){var e=Object(b.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.put("/api/orders/orderDispatced",t,{headers:{authorization:"bearer "+a}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getDispatched:ot,getOneWithDetails:ct},dt=function(e){return function(){var t=Object(b.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ut.getOfCustomerWithDetails(e);case 2:r=t.sent,a({type:"INIT_CUSTOMERS_ORDERS",data:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{customers:[],cart:[],adminsUndispatched:[],adminsDispatched:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_CUSTOMERS_ORDERS":return{customers:t.data,cart:e.cart,adminsUndispatched:e.adminsUndispatched,adminsDispatched:e.adminsDispatched};case"INIT_ADMINS_UNDISPATCHED_ORDERS":return{customers:e.customers,cart:e.cart,adminsUndispatched:t.data,adminsDispatched:e.adminsDispatched};case"INIT_ADMINS_DISPATCHED_ORDERS":return{customers:e.customers,cart:e.cart,adminsUndispatched:e.adminsUndispatched,adminsDispatched:t.data};case"REPLACE_ADMINS_UNDISPATCHED_KEEP_DETAILS":var a,r=[],n=Object(q.a)(e.adminsUndispatched);try{for(n.s();!(a=n.n()).done;){var i=a.value;i.id===t.data.id?r.push(Object(at.a)(Object(at.a)({},t.data),{},{orderDetails:i.orderDetails,name:i.name,address:i.address,mobile:i.mobile,email:i.email})):r.push(i)}}catch(v){n.e(v)}finally{n.f()}return{customers:e.customers,cart:e.cart,adminsUndispatched:r,adminsDispatched:e.adminsDispatched};case"MODIFY_ADMINS_UNDISPATCHED_TRANSFER_TO_DISPATCHED_KEEP_DETAILS":var c,s=[],o=e.adminsDispatched,u=Object(q.a)(e.adminsUndispatched);try{for(u.s();!(c=u.n()).done;){var d=c.value;d.id===t.data.id?o=e.adminsDispatched.concat(Object(at.a)(Object(at.a)({},t.data),{},{orderDetails:d.orderDetails,name:d.name,address:d.address,mobile:d.mobile,email:d.email})):s.push(d)}}catch(v){u.e(v)}finally{u.f()}return{customers:e.customers,cart:e.cart,adminsUndispatched:s,adminsDispatched:o};case"REPLACE_ADMINS_DISPATCHED_COMPLETELY":var l,j=[],p=Object(q.a)(e.adminsDispatched);try{for(p.s();!(l=p.n()).done;){var b=l.value;b.id===t.data.id?j.push(Object(at.a)({},t.data)):j.push(b)}}catch(v){p.e(v)}finally{p.f()}return{customers:e.customers,cart:e.cart,adminsUndispatched:e.adminsUndispatched,adminsDispatched:j};case"REPLACE_ADMINS_DISPATCHED_KEEP_DETAILS":var h,m=[],f=Object(q.a)(e.adminsDispatched);try{for(f.s();!(h=f.n()).done;){var O=h.value;O.id===t.data.id?m.push(Object(at.a)(Object(at.a)({},t.data),{},{orderDetails:O.orderDetails,name:O.name,address:O.address,mobile:O.mobile,email:O.email})):m.push(O)}}catch(v){f.e(v)}finally{f.f()}return{customers:e.customers,cart:e.cart,adminsUndispatched:e.adminsUndispatched,adminsDispatched:m};case"ADD_TO_CART":var x=e.cart.concat(t.data);return window.localStorage.setItem("cart",JSON.stringify(x)),{customers:e.customers,cart:x,adminsUndispatched:e.adminsUndispatched,adminsDispatched:e.adminsDispatched};case"DELETE_FROM_CART":return{customers:e.customers,cart:e.cart.filter((function(e){return e.product_time!==t.data})),adminsUndispatched:e.adminsUndispatched,adminsDispatched:e.adminsDispatched};case"CLEAR_CART":return{customers:e.customers,cart:[],adminsUndispatched:e.adminsUndispatched,adminsDispatched:e.adminsDispatched};default:return e}},jt=a(255),pt=a(238),bt=a(237),ht=a(240),mt=a(242),ft=a(236),Ot=a(239),xt=a(241),vt=a(235),gt=a(85),yt=a.n(gt),kt=Object(O.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center",background:"#e6f7ff"},column:{flexBasis:"33.33%"},helper:{padding:e.spacing(1,2)}}})),wt=Object(O.a)({table:{minWidth:650}}),Dt=function(e){var t=e.order,a=kt(),r=wt(),i=Object(s.c)((function(e){return e.customers.loggedIn})),c=Object(s.b)(),u="";null!==t.internalnotes&&(u=t.internalnotes);var d=n.a.useState(u),l=Object(o.a)(d,2),j=l[0],h=l[1],f=function(e){h(e.target.value)},O=function(){var e=Object(b.a)(p.a.mark((function e(){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.orderdispatched){e.next=14;break}return e.prev=1,e.next=4,ut.putInternalNotes({id:t.id,internalNotes:j},i.token);case 4:a=e.sent,c({type:"REPLACE_ADMINS_UNDISPATCHED_KEEP_DETAILS",data:a}),c(m("Tilauksen huomio muutettu","success",5)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c(m("Tilauksen huomion muuttaminen ep\xe4onnistui","error",5));case 12:e.next=25;break;case 14:return e.prev=14,e.next=17,ut.putInternalNotes({id:t.id,internalNotes:j},i.token);case 17:r=e.sent,c({type:"REPLACE_ADMINS_DISPATCHED_KEEP_DETAILS",data:r}),c(m("Tilauksen huomio muutettu","success",5)),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(14),c(m("Tilauksen huomion muuttaminen ep\xe4onnistui","error",5));case 25:case"end":return e.stop()}}),e,null,[[1,9],[14,22]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ut.putOrderDispatched({id:t.id},i.token);case 3:a=e.sent,c({type:"MODIFY_ADMINS_UNDISPATCHED_TRANSFER_TO_DISPATCHED_KEEP_DETAILS",data:a}),c(m("Tilaus merkitty l\xe4hetetyksi","success",5)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c(m("Tilauksen merkitseminen toimitetuksi ep\xe4onnistui","error",5));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(jt.a,{onChange:function(){var e,a;void 0!==i.admin&&void 0===t.orderDetails&&c((e=t.id,a=i.token,function(){var t=Object(b.a)(p.a.mark((function t(r){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ut.getOneWithDetails(e,a);case 2:n=t.sent,r({type:"REPLACE_ADMINS_DISPATCHED_COMPLETELY",data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:[Object(U.jsxs)(bt.a,{expandIcon:Object(U.jsx)(yt.a,{}),"aria-controls":"panel1c-content",id:"panel1c-header",children:[Object(U.jsx)("div",{className:a.column,children:Object(U.jsxs)(Ie.a,{className:a.heading,children:["Tilaus ",new Date(t.orderreceived).toLocaleDateString("fi-FI")]})}),Object(U.jsx)("div",{className:a.column,children:Object(U.jsx)(Ie.a,{className:a.secondaryHeading,children:De(t.purchaseprice)})})]}),Object(U.jsxs)(pt.a,{className:a.details,children:[Object(U.jsxs)("div",{className:r.column,children:[Object(U.jsx)(Ot.a,{component:ve.a,children:Object(U.jsxs)(ht.a,{className:r.table,size:"small","aria-label":"a dense table",children:[Object(U.jsx)(xt.a,{children:Object(U.jsxs)(vt.a,{children:[Object(U.jsx)(ft.a,{children:"Tuote"}),Object(U.jsx)(ft.a,{align:"right",children:"Koko"}),Object(U.jsx)(ft.a,{align:"right",children:"Hinta"}),Object(U.jsx)(ft.a,{align:"right",children:"M\xe4\xe4r\xe4"}),Object(U.jsx)(ft.a,{align:"right",children:"Hinta yhteens\xe4"})]})}),Object(U.jsx)(mt.a,{children:function(){if(void 0!==t.orderDetails)return t.orderDetails.map((function(e,t){return Object(U.jsxs)(vt.a,{children:[Object(U.jsx)(ft.a,{component:"th",scope:"row",children:e.name}),Object(U.jsx)(ft.a,{align:"right",children:e.priceandsize.size}),Object(U.jsx)(ft.a,{align:"right",children:De(e.priceandsize.price)}),Object(U.jsx)(ft.a,{align:"right",children:e.quantity}),Object(U.jsx)(ft.a,{align:"right",children:De(e.priceandsize.price*e.quantity)})]},t)}))}()})]})}),Object(U.jsx)("br",{}),function(){if(void 0!==i.admin)return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(xe.a,{id:"uniikki_id_tanne",label:"Huomioiden muokkaus",value:j,variant:"outlined",onChange:f}),Object(U.jsx)(je.a,{size:"small",onClick:O,children:"Tallenna muutos"})]})}(),Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),function(){if(void 0!=i.admin&&null==t.orderdispatched)return Object(U.jsx)(je.a,{size:"small",color:"primary",onClick:x,children:"Merkitse l\xe4hetetyksi"})}()]}),Object(U.jsxs)("div",{className:Object(We.a)(a.column,a.helper),children:[Object(U.jsxs)(Ie.a,{variant:"caption",children:["Tilaustunnus: ",t.id," ",Object(U.jsx)("br",{}),"Tilaus vastaanotettu: ",t.orderreceived," ",Object(U.jsx)("br",{}),"Tuotteet l\xe4hetetty: ",t.orderdispatched," ",Object(U.jsx)("br",{}),"Hinta: ",De(t.purchaseprice)," ",Object(U.jsx)("br",{}),"Lis\xe4tiedot: ",t.customerinstructions]}),Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),function(){if(void 0!==i.admin)return Object(U.jsxs)(Ie.a,{variant:"caption",children:["Huomiot: ",t.internalnotes," ",Object(U.jsx)("br",{}),"Asiakas ID: ",t.customer_id," ",Object(U.jsx)("br",{}),"Nimi: ",t.name," ",Object(U.jsx)("br",{}),"Osoite: ",t.address," ",Object(U.jsx)("br",{}),"Puhelin: ",t.mobile," ",Object(U.jsx)("br",{}),"Email: ",t.email," ",Object(U.jsx)("br",{})]})}()]})]})]})},Ct=Object(O.a)((function(e){return{root:{width:"100%"}}})),Nt=function(e){var t=Ct(),a=Object(s.c)((function(e){return e.customers.loggedIn})),n=Object(s.c)((function(e){return e.orders.customers})),i=Object(s.b)();return Object(r.useEffect)((function(){null!==a&&i(dt(a.token))}),[i,a]),Object(U.jsx)("div",{className:t.root,children:n.map((function(e){return Object(U.jsx)(Dt,{order:e},e.id)}))})},It=Object(O.a)({table:{minWidth:650}}),St=function(e){var t,a=It(),r=Object(s.c)((function(e){return e.orders.cart})),i=Object(s.c)((function(e){return e.customers.loggedIn})),c=Object(s.b)(),u=n.a.useState(!1),d=Object(o.a)(u,2),l=d[0],j=d[1],h=function(){var e=Object(b.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0),e.prev=1,t=Object(q.a)(r);try{for(t.s();!(a=t.n()).done;)delete(n=a.value).product_time,delete n.product_name}catch(s){t.e(s)}finally{t.f()}return e.next=6,ut.post(r,i.token);case 6:j(!1),c({type:"CLEAR_CART"}),c(dt(i.token)),c(m("Tilaus l\xe4hetetty","success",5)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),j(!1),c(m("Tilauksen l\xe4hetys ep\xe4onnistui","error",5));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),f=0,O=Object(q.a)(r);try{for(O.s();!(t=O.n()).done;){var x=t.value;f+=x.priceAndSize.price*x.quantity}}catch(v){O.e(v)}finally{O.f()}return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Ot.a,{component:ve.a,children:Object(U.jsxs)(ht.a,{className:a.table,"aria-label":"simple table",children:[Object(U.jsx)(xt.a,{children:Object(U.jsxs)(vt.a,{children:[Object(U.jsx)(ft.a,{children:"Tuote"}),Object(U.jsx)(ft.a,{align:"right",children:"Koko"}),Object(U.jsx)(ft.a,{align:"right",children:"Hinta"}),Object(U.jsx)(ft.a,{align:"right",children:"M\xe4\xe4r\xe4"}),Object(U.jsx)(ft.a,{align:"right",children:"Hinta yhteens\xe4"}),Object(U.jsx)(ft.a,{align:"right"})]})}),Object(U.jsxs)(mt.a,{children:[r.map((function(e){return Object(U.jsxs)(vt.a,{children:[Object(U.jsx)(ft.a,{component:"th",scope:"row",children:e.product_name}),Object(U.jsx)(ft.a,{align:"right",children:e.priceAndSize.size}),Object(U.jsx)(ft.a,{align:"right",children:De(e.priceAndSize.price)}),Object(U.jsx)(ft.a,{align:"right",children:e.quantity}),Object(U.jsx)(ft.a,{align:"right",children:De(e.priceAndSize.price*e.quantity)}),Object(U.jsx)(ft.a,{align:"right",children:Object(U.jsx)(je.a,{size:"small",color:"primary",onClick:function(){return t=e.product_time,void c({type:"DELETE_FROM_CART",data:t});var t},children:"Poista"})})]},e.product_time)})),Object(U.jsxs)(vt.a,{children:[Object(U.jsx)(ft.a,{component:"th",scope:"row",children:"YHTEENS\xc4"}),Object(U.jsx)(ft.a,{align:"right"}),Object(U.jsx)(ft.a,{align:"right"}),Object(U.jsx)(ft.a,{align:"right"}),Object(U.jsx)(ft.a,{align:"right",children:De(f)}),Object(U.jsx)(ft.a,{align:"right"})]})]})]})}),Object(U.jsx)(je.a,{size:"small",color:"primary",disabled:l,onClick:h,children:"L\xe4het\xe4 tilaus"})]})},Et=Object(O.a)((function(e){return{root:{width:"100%"}}})),Tt=function(e){var t=Et(),a=Object(s.c)((function(e){return e.customers.loggedIn})),i=Object(s.c)((function(e){return e.orders.adminsUndispatched})),c=Object(s.c)((function(e){return e.orders.adminsDispatched})),u=Object(s.b)();Object(r.useEffect)((function(){var e;null!==a&&u((e=a.token,function(){var t=Object(b.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ut.getUndispatchedWithDetails(e);case 2:r=t.sent,a({type:"INIT_ADMINS_UNDISPATCHED_ORDERS",data:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[u,a]);var d=n.a.useState(!1),l=Object(o.a)(d,2),j=l[0],h=l[1];return Object(U.jsxs)("div",{className:t.root,children:[Object(U.jsx)(Ie.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"L\xe4hett\xe4m\xe4tt\xf6m\xe4t tilaukset"}),Object(U.jsx)("div",{className:t.root,children:i.map((function(e){return Object(U.jsx)(Dt,{order:e},e.id)}))}),Object(U.jsx)("br",{}),Object(U.jsx)(je.a,{size:"small",color:"primary",onClick:function(){var e;u((e=a.token,function(){var t=Object(b.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ut.getDispatched(e);case 2:r=t.sent,a({type:"INIT_ADMINS_DISPATCHED_ORDERS",data:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),h(!0)},children:"N\xe4yt\xe4 l\xe4hetetyt tilaukset"}),Object(U.jsx)("br",{}),function(){if(j)return Object(U.jsx)("div",{className:t.root,children:c.map((function(e){return Object(U.jsx)(Dt,{order:e},e.id)}))})}()]})},_t="/api/customers",zt={post:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.post(_t,t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),postLogin:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.post("/api/customers/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get(_t,{headers:{authorization:"bearer "+t}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getOneWithDetails:function(){var e=Object(b.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("/api/customers/"+t,{headers:{authorization:"bearer "+a}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loggedIn:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LOGGED_IN":return Object(at.a)(Object(at.a)({},e),{},{loggedIn:t.data});case"INIT_CUSTOMERS":return Object(at.a)(Object(at.a)({},e),{},{adminsCustomers:t.data});case"REPLACE_CUSTOMER":var a,r=[],n=Object(q.a)(e.adminsCustomers);try{for(n.s();!(a=n.n()).done;){var i=a.value;i.id===t.data.id?r.push(Object(at.a)({},t.data)):r.push(i)}}catch(c){n.e(c)}finally{n.f()}return Object(at.a)(Object(at.a)({},e),{},{adminsCustomers:r});default:return e}},Lt=Object(O.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"33.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:e.spacing(1,2)}}})),Rt=function(e){var t=Lt(),a=Object(s.c)((function(e){return e.customers.loggedIn})),i=Object(s.c)((function(e){return e.customers.adminsCustomers})),c=Object(s.b)();Object(r.useEffect)((function(){var e;null!==a&&c((e=a.token,function(){var t=Object(b.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,zt.getAll(e);case 2:r=t.sent,a({type:"INIT_CUSTOMERS",data:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[c,a]),null==i&&(i=[]);var u=n.a.useState(!1),d=Object(o.a)(u,2),l=d[0],j=d[1],h=function(e){return function(t,r){l!==e?(void 0===i.find((function(t){return t.id==e})).address&&c(function(e,t){return function(){var a=Object(b.a)(p.a.mark((function a(r){var n;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,zt.getOneWithDetails(e,t);case 2:n=a.sent,r({type:"REPLACE_CUSTOMER",data:n});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(e,a.token)),j(e)):j(!1)}},m=function(e){if(void 0!==e.address)return Object(U.jsxs)(Ie.a,{variant:"caption",children:["Asiakas ID: ",e.id," ",Object(U.jsx)("br",{}),"Nimi: ",e.name," ",Object(U.jsx)("br",{}),"Osoite: ",e.address," ",Object(U.jsx)("br",{}),"Puhelin: ",e.mobile," ",Object(U.jsx)("br",{}),"Email: ",e.email," ",Object(U.jsx)("br",{})]})};return Object(U.jsx)("div",{className:t.root,children:i.map((function(e){return Object(U.jsxs)(jt.a,{expanded:l===e.id,onChange:h(e.id),children:[Object(U.jsx)(bt.a,{expandIcon:Object(U.jsx)(yt.a,{}),"aria-controls":"panel1c-content",id:"panel1c-header",children:Object(U.jsx)("div",{className:t.column,children:Object(U.jsxs)(Ie.a,{className:t.heading,children:["Asiakas: ",e.name]})})}),Object(U.jsx)(pt.a,{className:t.details,children:m(e)})]},e.id)}))})},Pt=function(e){return function(){var t=Object(b.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue.getAll(e);case 2:r=t.sent,a({type:"INIT_PRODUCTS",data:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_PRODUCTS":return t.data;case"ADD_NEW_PRODUCT":return e.concat(t.data);case"REPLACE_PRODUCT":var a,r=[],n=Object(q.a)(e);try{for(n.s();!(a=n.n()).done;){var i=a.value;i.id===t.data.id?r.push(t.data):r.push(i)}}catch(c){n.e(c)}finally{n.f()}return r;default:return e}},Ft=Object(O.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}})),Mt=function(){var e=Ft(),t=Object(s.b)(),a=Object(d.g)(),r=n.a.useState(""),i=Object(o.a)(r,2),c=i[0],u=i[1],j=n.a.useState(""),h=Object(o.a)(j,2),f=h[0],O=h[1],x=n.a.useState(!1),v=Object(o.a)(x,2),g=v[0],y=v[1],k=function(){var e=Object(b.a)(p.a.mark((function e(){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,zt.postLogin({email:c,password:f});case 4:r=e.sent,t({type:"ADD_LOGGED_IN",data:r}),void 0!==r.admin&&t(Pt(r.token)),window.localStorage.setItem("genericStoreUser",JSON.stringify(r)),a.push("/"),t(m("Tervetuloa!","success",5)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0.response.data.error.includes("Incorrect email or password")?t(m("Virheellinen s\xe4hk\xf6postiosoite tai salasana","error",5)):t(m("Sis\xe4\xe4nkirjautuminen ep\xe4onnistui","error",5)),y(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(U.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object(U.jsxs)("div",{children:[Object(U.jsx)(xe.a,{required:!0,id:"standard-required",label:"S\xe4hk\xf6posti",value:c,onChange:function(e){u(e.target.value)}}),Object(U.jsx)(xe.a,{required:!0,id:"standard-required",label:"Salasana",value:f,onChange:function(e){O(e.target.value)}}),Object(U.jsx)("br",{}),Object(U.jsx)(je.a,{size:"small",disabled:g,onClick:k,children:"Kirjaudu sis\xe4\xe4n"}),Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),Object(U.jsx)(l.b,{to:"/rekisteroityminen",children:Object(U.jsx)(je.a,{size:"small",children:"Rekister\xf6idy"})})]})})},Ht=Object(O.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}}})),Kt=function(){var e=Ht(),t=Object(s.b)(),a=Object(d.g)(),r=n.a.useState(""),i=Object(o.a)(r,2),c=i[0],u=i[1],l=n.a.useState(""),j=Object(o.a)(l,2),h=j[0],f=j[1],O=n.a.useState(""),x=Object(o.a)(O,2),v=x[0],g=x[1],y=n.a.useState(""),k=Object(o.a)(y,2),w=k[0],D=k[1],C=n.a.useState(""),N=Object(o.a)(C,2),I=N[0],S=N[1],E=n.a.useState(!1),T=Object(o.a)(E,2),_=T[0],z=T[1],A=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.prev=1,e.next=4,zt.post({name:c,address:h,mobile:v,email:w,password:I});case 4:a.push("/kirjautuminen"),t(m("Rekister\xf6ityminen onnistui","success",5)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.response.data.error.includes("violates unique constraint")?t(m("Virheellinen s\xe4hk\xf6postiosoite","error",5)):t(m("Rekister\xf6ityminen ep\xe4onnistui","error",5)),z(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(U.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object(U.jsxs)("div",{children:[Object(U.jsx)(xe.a,{required:!0,id:"standard-required",label:"Nimi",value:c,onChange:function(e){u(e.target.value)}}),Object(U.jsx)(xe.a,{required:!0,id:"standard-required",label:"Osoite",value:h,onChange:function(e){f(e.target.value)}}),Object(U.jsx)(xe.a,{required:!0,id:"standard-required",label:"Puhelinnumero",value:v,onChange:function(e){g(e.target.value)}}),Object(U.jsx)(xe.a,{required:!0,id:"standard-required",label:"S\xe4hk\xf6posti",value:w,onChange:function(e){D(e.target.value)}}),Object(U.jsx)(xe.a,{required:!0,id:"standard-required",label:"Salasana",value:I,onChange:function(e){S(e.target.value)}}),Object(U.jsx)("br",{}),Object(U.jsx)(je.a,{size:"small",disabled:_,onClick:A,children:"L\xe4het\xe4"})]})})},qt=a(251),Wt=a(247);function Gt(e){return Object(U.jsx)(Wt.a,Object(at.a)({elevation:6,variant:"filled"},e))}var Bt=Object(O.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),Yt=function(){var e=Bt(),t=Object(s.c)((function(e){return e.notification}));return""!==t.text?Object(U.jsx)("div",{className:e.root,children:Object(U.jsx)(qt.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!0,children:Object(U.jsx)(Gt,{severity:t.severity,children:t.text})})}):null},Vt=a(244),Jt=a(243),Qt=a(250),Xt=a(249),Zt=a(119),$t=a.n(Zt),ea=a(245),ta=a(22),aa={background:"linear-gradient(90deg, #a6e2ff 30%, #ccefff 90%)",height:47,boxShadow:"0px 0px"},ra=Object(O.a)((function(e){return{root:{display:"flex"},drawer:Object(u.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:{zIndex:e.zIndex.drawer+1},menuButton:Object(u.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),listItem:{paddingTop:"3px",paddingBottom:"3px"},toolbar:e.mixins.toolbar,drawerPaper:{width:240,backgroundColor:"#fafafa",border:"0px"},content:{flexGrow:1,padding:e.spacing(3)}}}));var na=function(e){var t=e.window,a=void 0!==t?function(){return t().document.body}:void 0,r=ra(),i=Object(ta.a)(),c=n.a.useState(!1),u=Object(o.a)(c,2),l=u[0],j=u[1],p=function(){j(!l)},b=Object(s.c)((function(e){return e.categories})),h=Object(d.h)("/kategoriat/:id"),m=h?Number(h.params.id):null,f=b.find((function(e){return null==e.category_id}));return null==f&&(f={id:""}),Object(U.jsxs)("div",{className:r.root,children:[Object(U.jsx)(Jt.a,{}),Object(U.jsx)(Vt.a,{position:"fixed",className:r.appBar,style:aa,children:Object(U.jsxs)(ea.a,{children:[Object(U.jsx)(ze.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:p,className:r.menuButton,children:Object(U.jsx)($t.a,{})}),Object(U.jsx)(Ie.a,{variant:"h6",noWrap:!0,children:"Linnakauppa"})]})}),Object(U.jsxs)("nav",{className:r.drawer,"aria-label":"mailbox folders",children:[Object(U.jsx)(Xt.a,{smUp:!0,implementation:"css",children:Object(U.jsx)(Qt.a,{container:a,variant:"temporary",anchor:"rtl"===i.direction?"right":"left",open:l,onClose:p,classes:{paper:r.drawerPaper},ModalProps:{keepMounted:!0},children:Object(U.jsx)(H,{})})}),Object(U.jsx)(Xt.a,{xsDown:!0,implementation:"css",children:Object(U.jsx)(Qt.a,{classes:{paper:r.drawerPaper},variant:"permanent",open:!0,children:Object(U.jsx)(H,{})})})]}),Object(U.jsxs)("main",{className:r.content,children:[Object(U.jsx)("div",{className:r.toolbar}),Object(U.jsxs)(d.d,{children:[Object(U.jsx)(d.b,{path:"/kategoriat/:id",children:Object(U.jsx)(tt,{id:m})}),Object(U.jsx)(d.b,{path:"/omattilaukset",children:Object(U.jsx)(Nt,{})}),Object(U.jsx)(d.b,{path:"/ostoskori",children:Object(U.jsx)(St,{})}),Object(U.jsx)(d.b,{path:"/tilaukset",children:Object(U.jsx)(Tt,{})}),Object(U.jsx)(d.b,{path:"/uusikategoria",children:Object(U.jsx)(ye,{parentCategoryIdForNewCategory:null})}),Object(U.jsx)(d.b,{path:"/asiakkaat",children:Object(U.jsx)(Rt,{})}),Object(U.jsx)(d.b,{path:"/kirjautuminen",children:Object(U.jsx)(Mt,{})}),Object(U.jsx)(d.b,{path:"/rekisteroityminen",children:Object(U.jsx)(Kt,{})}),Object(U.jsx)(d.b,{path:"/",children:Object(U.jsx)(d.a,{to:"/kategoriat/"+f.id})})]}),Object(U.jsx)(Yt,{})]})]})},ia=function(){return function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.getAll();case 2:a=e.sent,t({type:"INIT_CATEGORIES",data:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_CATEGORIES":return t.data;case"ADD_NEW_CATEGORY":return e.concat(t.data);case"DELETE_CATEGORY":return e.filter((function(e){return e.id!==t.data}));case"REPLACE_CATEGORY":return e.filter((function(e){return e.id!==t.data.id})).concat(t.data);default:return e}},sa=function(){var e=Object(s.b)();return Object(r.useEffect)((function(){return e(ia())}),[e]),Object(r.useEffect)((function(){var t,a=window.localStorage.getItem("genericStoreUser");a&&(t=JSON.parse(a),e({type:"ADD_LOGGED_IN",data:t}));var r,n=window.localStorage.getItem("cart");n&&(r=JSON.parse(n),e({type:"ADD_TO_CART",data:r})),e(ia()),null!=t&&null!=t.admin?e(Pt(t.token)):e(function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.getAvailable();case 2:a=e.sent,t({type:"INIT_PRODUCTS",data:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(U.jsx)("div",{children:Object(U.jsx)(l.a,{children:Object(U.jsx)(na,{})})})},oa=a(86),ua=a(120),da=Object(oa.b)({categories:ca,products:Ut,orders:lt,customers:At,notification:f}),la=Object(oa.c)(da,Object(oa.a)(ua.a));c.a.render(Object(U.jsx)(s.a,{store:la,children:Object(U.jsx)(sa,{})}),document.getElementById("root"))}},[[172,1,2]]]);
//# sourceMappingURL=main.3c118f75.chunk.js.map